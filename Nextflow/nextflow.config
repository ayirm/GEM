// --- DEFAULT PARAMETERS ---
params {
    // Input files
    ref       = false
    fastq1    = false
    fastq2    = false

    // Output directory
    outdir    = './results'

    // Resource allocation
    threads   = 4
}

// --- PROFILES ---
profiles {
    standard {
        process.executor = 'local'
    }

    conda {
        conda.enabled = true
        // Optional: specify a cache directory for conda envs
        // conda.cacheDir = '/path/to/my/conda_cache'
    }

    docker {
        docker.enabled = true
        // You would need to define a container for each process
        // e.g., process.container = 'bioconda/bioconda-utils'
        // This is more complex and best built up over time.
    }
}

// --- GLOBAL PROCESS CONFIGURATION ---
process {
    // All processes will get 'params.threads' cpus, up to a max of 4
    cpus = { params.threads }

    // This replaces your 'check_existing_file' function.
    // 'local' caches by default. 'resume' tells Nextflow to use the cache.
    cache = 'deep' 
}

// Enable Nextflow's 'resume' feature by default
resume = true

// Enable timeline and report generation
timeline.enabled = true
report.enabled = true
